{
  "version": "2.0.0",
  "inputs": [
    {
      "id": "simulator",
      "description": "Simulate",
      "type": "pickString",
      "options": ["ON", "OFF"],
      "default": "ON"
    },
    {
      "id": "buildBehaviour",
      "description": "Build Behaviour",
      "type": "pickString",
      "options": ["Debug", "Release", "ReleaseDebug"],
      "default": "Debug"
    },
    {
      "id": "target",
      "description": "Compilation Target",
      "type": "pickString",
      "options": ["NUCLEO", "BOARD"],
      "default": "NUCLEO"
    },
    {
      "id": "ethernetConfig",
      "description": "Enable Ethernet",
      "type": "pickString",
      "options": ["ON", "OFF"],
      "default": "ON"
    }
  ],
  "tasks": [
    {
      "label": "Build ST-LIB",
      "type": "shell",
      "command": "${workspaceFolder}/tools/build.py",
      "args": [
        "-sim",
        "${input:simulator}",
        "-bb",
        "${input:buildBehaviour}",
        "-t",
        "${input:target}",
        "-eth",
        "${input:ethernetConfig}"
      ],
      "windows": {
        "command": "python",
        "args": [
          "${workspaceFolder}\\tools\\build.py",
          "-sim",
          "${input:simulator}",
          "-bb",
          "${input:buildBehaviour}",
          "-t",
          "${input:target}",
          "-eth",
          "${input:ethernetConfig}"
        ]
      },
      "problemMatcher": ["$gcc"],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "presentation": {
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "Build ST-LIB (MCU)",
      "type": "shell",
      "command": "${workspaceFolder}/tools/build.py",
      "args": [
        "-sim",
        "OFF",
        "-bb",
        "${input:buildBehaviour}",
        "-t",
        "${input:target}",
        "-eth",
        "${input:ethernetConfig}"
      ],
      "windows": {
        "command": "python",
        "args": [
          "${workspaceFolder}\\tools\\build.py",
          "-sim",
          "${input:simulator}",
          "-bb",
          "${input:buildBehaviour}",
          "-t",
          "${input:target}",
          "-eth",
          "${input:ethernetConfig}"
        ]
      },
      "problemMatcher": ["$gcc"],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "presentation": {
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "Build ST-LIB (Simulator)",
      "type": "shell",
      "command": "${workspaceFolder}/tools/build.py",
      "args": [
        "-sim",
        "ON",
        "-bb",
        "${input:buildBehaviour}",
        "-t",
        "${input:target}",
        "-eth",
        "${input:ethernetConfig}"
      ],
      "windows": {
        "command": "python",
        "args": [
          "${workspaceFolder}\\tools\\build.py",
          "-sim",
          "${input:simulator}",
          "-bb",
          "${input:buildBehaviour}",
          "-t",
          "${input:target}",
          "-eth",
          "${input:ethernetConfig}"
        ]
      },
      "problemMatcher": ["$gcc"],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "presentation": {
        "panel": "dedicated",
        "clear": true
      }
    }
  ]
}
